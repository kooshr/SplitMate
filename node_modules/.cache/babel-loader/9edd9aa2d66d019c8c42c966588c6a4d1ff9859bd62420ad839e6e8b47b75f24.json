{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ReceiptTable=_ref=>{let{items,setItems,people,setPeople}=_ref;const[participations,setParticipations]=useState([]);const[tax,setTax]=useState(0);const[tip,setTip]=useState(0);const[newPerson,setNewPerson]=useState('');// For editing person name\nconst[editingPersonIndex,setEditingPersonIndex]=useState(null);const[editingPersonName,setEditingPersonName]=useState('');useEffect(()=>{// Sync participations size with items and people\nif(participations.length<items.length){const diff=items.length-participations.length;for(let i=0;i<diff;i++){setParticipations(prev=>[...prev,people.map(()=>false)]);}}else if(participations.length>items.length){setParticipations(prev=>prev.slice(0,items.length));}if(participations[0]&&participations[0].length<people.length){const diff=people.length-participations[0].length;if(diff>0){setParticipations(prev=>prev.map(row=>[...row,...Array(diff).fill(false)]));}}else if(participations[0]&&participations[0].length>people.length){setParticipations(prev=>prev.map(row=>row.slice(0,people.length)));}},[people,items,participations]);const handleToggleParticipation=(itemIndex,personIndex)=>{setParticipations(prev=>prev.map((row,i)=>{if(i===itemIndex){return row.map((val,j)=>j===personIndex?!val:val);}return row;}));};const handleItemNameChange=(index,value)=>{const updatedItems=[...items];updatedItems[index].name=value;setItems(updatedItems);};const handleItemPriceChange=(index,value)=>{const updatedItems=[...items];updatedItems[index].price=parseFloat(value)||0;setItems(updatedItems);};const addItem=()=>{setItems([...items,{name:'New Item',price:0}]);};const removeItem=index=>{setItems(items.filter((_,i)=>i!==index));};const addPerson=()=>{if(newPerson.trim()!==''){setPeople([...people,newPerson.trim()]);setNewPerson('');}};const removePerson=pIndex=>{setPeople(people.filter((_,i)=>i!==pIndex));if(editingPersonIndex===pIndex){setEditingPersonIndex(null);setEditingPersonName('');}};const startEditingPerson=pIndex=>{setEditingPersonIndex(pIndex);setEditingPersonName(people[pIndex]);};const stopEditingPerson=()=>{if(editingPersonName.trim()===''){setEditingPersonName(people[editingPersonIndex]);}else{const updatedPeople=[...people];updatedPeople[editingPersonIndex]=editingPersonName.trim();setPeople(updatedPeople);}setEditingPersonIndex(null);setEditingPersonName('');};const handlePersonNameKeyDown=e=>{if(e.key==='Enter'){stopEditingPerson();}};// Compute allocations\nconst itemAllocations=items.map((item,i)=>{const row=participations[i]||[];const count=row.filter(Boolean).length;const perPerson=count>0?item.price/count:0;return row.map(selected=>selected?perPerson:0);});const personTotalsFromItems=people.map((_,j)=>{let sum=0;itemAllocations.forEach(row=>{sum+=row[j]||0;});return sum;});const subtotal=personTotalsFromItems.reduce((acc,val)=>acc+val,0);const totalItems=subtotal;const totalCost=totalItems+parseFloat(tax||0)+parseFloat(tip||0);let finalPersonTotals=[...personTotalsFromItems];if(totalItems>0){finalPersonTotals=personTotalsFromItems.map(personTotal=>{const fraction=personTotal/totalItems;const personShareOfTax=fraction*parseFloat(tax||0);const personShareOfTip=fraction*parseFloat(tip||0);return personTotal+personShareOfTax+personShareOfTip;});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"add-section\",children:/*#__PURE__*/_jsx(\"button\",{onClick:addItem,children:\"Add Item\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Item\"}),/*#__PURE__*/_jsx(\"th\",{children:\"$\"}),people.map((person,pIndex)=>/*#__PURE__*/_jsx(\"th\",{children:editingPersonIndex===pIndex?/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editingPersonName,onChange:e=>setEditingPersonName(e.target.value),onBlur:stopEditingPerson,onKeyDown:handlePersonNameKeyDown,autoFocus:true,style:{width:'100%',padding:'5px'}}):/*#__PURE__*/_jsxs(\"span\",{className:\"person-name-container\",children:[person,/*#__PURE__*/_jsx(\"button\",{className:\"edit-btn\",onClick:e=>{e.stopPropagation();startEditingPerson(pIndex);},title:\"Edit Person Name\",children:\"\\u270F\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();removePerson(pIndex);},style:{marginLeft:'5px',fontSize:'0.8em',background:'none',border:'none',color:'#333',cursor:'pointer'},title:\"Remove Person\",children:\"\\u2716\"})]})},pIndex)),/*#__PURE__*/_jsx(\"th\",{children:\"Remove Item\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[items.map((item,i)=>{return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:item.name,onChange:e=>handleItemNameChange(i,e.target.value)})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:item.price,onChange:e=>handleItemPriceChange(i,e.target.value)})}),people.map((_,j)=>{const selected=participations[i]&&participations[i][j];const perPersonCost=itemAllocations[i]?itemAllocations[i][j]:0;return/*#__PURE__*/_jsx(\"td\",{className:\"person-cell\",style:{backgroundColor:selected?'#c8e6c9':'transparent'},onClick:()=>handleToggleParticipation(i,j),title:\"Click to toggle\",children:selected&&perPersonCost>0?/*#__PURE__*/_jsxs(\"span\",{className:\"indicator\",role:\"img\",\"aria-label\":\"checked\",children:[\"\\u2705 \",perPersonCost.toFixed(2)]}):/*#__PURE__*/_jsx(\"span\",{className:\"indicator\",role:\"img\",\"aria-label\":\"unchecked\",children:\"\\u2716\"})},j);}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{style:{background:'#ff5555',color:'#fff',border:'none',borderRadius:'4px',padding:'5px 10px'},onClick:()=>removeItem(i),children:\"Remove\"})})]},i);}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",style:{textAlign:'right',fontWeight:'bold'},children:\"Subtotal (Items):\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:people.length+1,style:{textAlign:'right'},children:subtotal.toFixed(2)})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",style:{textAlign:'right',fontWeight:'bold'},children:\"Tax:\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:people.length+1,style:{textAlign:'right'},children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:tax,onChange:e=>setTax(parseFloat(e.target.value)||0),style:{width:'80px',textAlign:'right'}})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",style:{textAlign:'right',fontWeight:'bold'},children:\"Tip:\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:people.length+1,style:{textAlign:'right'},children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:tip,onChange:e=>setTip(parseFloat(e.target.value)||0),style:{width:'80px',textAlign:'right'}})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",style:{textAlign:'right',fontWeight:'bold'},children:\"Grand Total:\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:people.length+1,style:{textAlign:'right',fontWeight:'bold'},children:totalCost.toFixed(2)})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-section\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"New person name\",value:newPerson,onChange:e=>setNewPerson(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:addPerson,children:\"Add Person\"})]}),people.length>0&&items.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Final Totals per Person (including tax & tip):\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"final-totals-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Person\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount Due\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:people.map((person,j)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:person}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:'right'},children:finalPersonTotals[j]?finalPersonTotals[j].toFixed(2):'0.00'})]},j))})]})]})]});};export default ReceiptTable;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ReceiptTable","_ref","items","setItems","people","setPeople","participations","setParticipations","tax","setTax","tip","setTip","newPerson","setNewPerson","editingPersonIndex","setEditingPersonIndex","editingPersonName","setEditingPersonName","length","diff","i","prev","map","slice","row","Array","fill","handleToggleParticipation","itemIndex","personIndex","val","j","handleItemNameChange","index","value","updatedItems","name","handleItemPriceChange","price","parseFloat","addItem","removeItem","filter","_","addPerson","trim","removePerson","pIndex","startEditingPerson","stopEditingPerson","updatedPeople","handlePersonNameKeyDown","e","key","itemAllocations","item","count","Boolean","perPerson","selected","personTotalsFromItems","sum","forEach","subtotal","reduce","acc","totalItems","totalCost","finalPersonTotals","personTotal","fraction","personShareOfTax","personShareOfTip","children","className","onClick","person","type","onChange","target","onBlur","onKeyDown","autoFocus","style","width","padding","stopPropagation","title","marginLeft","fontSize","background","border","color","cursor","step","perPersonCost","backgroundColor","role","toFixed","borderRadius","colSpan","textAlign","fontWeight","placeholder"],"sources":["/Users/kaush/Desktop/SplitMate/src/components/ReceiptTable.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nconst ReceiptTable = ({ items, setItems, people, setPeople }) => {\n  const [participations, setParticipations] = useState([]);\n  const [tax, setTax] = useState(0);\n  const [tip, setTip] = useState(0);\n  const [newPerson, setNewPerson] = useState('');\n\n  // For editing person name\n  const [editingPersonIndex, setEditingPersonIndex] = useState(null);\n  const [editingPersonName, setEditingPersonName] = useState('');\n\n  useEffect(() => {\n    // Sync participations size with items and people\n    if (participations.length < items.length) {\n      const diff = items.length - participations.length;\n      for (let i = 0; i < diff; i++) {\n        setParticipations(prev => [...prev, people.map(() => false)]);\n      }\n    } else if (participations.length > items.length) {\n      setParticipations(prev => prev.slice(0, items.length));\n    }\n\n    if (participations[0] && participations[0].length < people.length) {\n      const diff = people.length - participations[0].length;\n      if (diff > 0) {\n        setParticipations(prev => prev.map(row => [...row, ...Array(diff).fill(false)]));\n      }\n    } else if (participations[0] && participations[0].length > people.length) {\n      setParticipations(prev => prev.map(row => row.slice(0, people.length)));\n    }\n  }, [people, items, participations]);\n\n  const handleToggleParticipation = (itemIndex, personIndex) => {\n    setParticipations(prev => prev.map((row, i) => {\n      if (i === itemIndex) {\n        return row.map((val, j) => (j === personIndex ? !val : val));\n      }\n      return row;\n    }));\n  };\n\n  const handleItemNameChange = (index, value) => {\n    const updatedItems = [...items];\n    updatedItems[index].name = value;\n    setItems(updatedItems);\n  };\n\n  const handleItemPriceChange = (index, value) => {\n    const updatedItems = [...items];\n    updatedItems[index].price = parseFloat(value) || 0;\n    setItems(updatedItems);\n  };\n\n  const addItem = () => {\n    setItems([...items, { name: 'New Item', price: 0 }]);\n  };\n\n  const removeItem = (index) => {\n    setItems(items.filter((_, i) => i !== index));\n  };\n\n  const addPerson = () => {\n    if (newPerson.trim() !== '') {\n      setPeople([...people, newPerson.trim()]);\n      setNewPerson('');\n    }\n  };\n\n  const removePerson = (pIndex) => {\n    setPeople(people.filter((_, i) => i !== pIndex));\n    if (editingPersonIndex === pIndex) {\n      setEditingPersonIndex(null);\n      setEditingPersonName('');\n    }\n  };\n\n  const startEditingPerson = (pIndex) => {\n    setEditingPersonIndex(pIndex);\n    setEditingPersonName(people[pIndex]);\n  };\n\n  const stopEditingPerson = () => {\n    if (editingPersonName.trim() === '') {\n      setEditingPersonName(people[editingPersonIndex]);\n    } else {\n      const updatedPeople = [...people];\n      updatedPeople[editingPersonIndex] = editingPersonName.trim();\n      setPeople(updatedPeople);\n    }\n    setEditingPersonIndex(null);\n    setEditingPersonName('');\n  };\n\n  const handlePersonNameKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      stopEditingPerson();\n    }\n  };\n\n  // Compute allocations\n  const itemAllocations = items.map((item, i) => {\n    const row = participations[i] || [];\n    const count = row.filter(Boolean).length;\n    const perPerson = count > 0 ? item.price / count : 0;\n    return row.map(selected => (selected ? perPerson : 0));\n  });\n\n  const personTotalsFromItems = people.map((_, j) => {\n    let sum = 0;\n    itemAllocations.forEach(row => {\n      sum += row[j] || 0;\n    });\n    return sum;\n  });\n\n  const subtotal = personTotalsFromItems.reduce((acc, val) => acc + val, 0);\n  const totalItems = subtotal;\n  const totalCost = totalItems + parseFloat(tax || 0) + parseFloat(tip || 0);\n\n  let finalPersonTotals = [...personTotalsFromItems];\n  if (totalItems > 0) {\n    finalPersonTotals = personTotalsFromItems.map(personTotal => {\n      const fraction = personTotal / totalItems;\n      const personShareOfTax = fraction * parseFloat(tax || 0);\n      const personShareOfTip = fraction * parseFloat(tip || 0);\n      return personTotal + personShareOfTax + personShareOfTip;\n    });\n  }\n\n  return (\n    <div>\n      <div className=\"add-section\">\n        <button onClick={addItem}>Add Item</button>\n      </div>\n\n      <div className=\"table-container\">\n        <table>\n          <thead>\n            <tr>\n              <th>Item</th>\n              <th>$</th>\n              {people.map((person, pIndex) => (\n                <th key={pIndex}>\n                  {editingPersonIndex === pIndex ? (\n                    <input\n                      type=\"text\"\n                      value={editingPersonName}\n                      onChange={(e) => setEditingPersonName(e.target.value)}\n                      onBlur={stopEditingPerson}\n                      onKeyDown={handlePersonNameKeyDown}\n                      autoFocus\n                      style={{ width: '100%', padding: '5px' }}\n                    />\n                  ) : (\n                    <span className=\"person-name-container\">\n                      {person}\n                      <button \n                        className=\"edit-btn\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          startEditingPerson(pIndex);\n                        }}\n                        title=\"Edit Person Name\"\n                      >\n                        ✏️\n                      </button>\n                      <button \n                        onClick={(e) => {e.stopPropagation(); removePerson(pIndex);}} \n                        style={{ marginLeft: '5px', fontSize: '0.8em', background: 'none', border: 'none', color: '#333', cursor: 'pointer' }}\n                        title=\"Remove Person\"\n                      >\n                        ✖\n                      </button>\n                    </span>\n                  )}\n                </th>\n              ))}\n              <th>Remove Item</th>\n            </tr>\n          </thead>\n          <tbody>\n            {items.map((item, i) => {\n              return (\n                <tr key={i}>\n                  <td>\n                    <input\n                      type=\"text\"\n                      value={item.name}\n                      onChange={(e) => handleItemNameChange(i, e.target.value)}\n                    />\n                  </td>\n                  <td>\n                    <input\n                      type=\"number\"\n                      step=\"0.01\"\n                      value={item.price}\n                      onChange={(e) => handleItemPriceChange(i, e.target.value)}\n                    />\n                  </td>\n                  {people.map((_, j) => {\n                    const selected = participations[i] && participations[i][j];\n                    const perPersonCost = itemAllocations[i] ? itemAllocations[i][j] : 0;\n                    return (\n                      <td\n                        key={j}\n                        className=\"person-cell\"\n                        style={{\n                          backgroundColor: selected ? '#c8e6c9' : 'transparent'\n                        }}\n                        onClick={() => handleToggleParticipation(i, j)}\n                        title=\"Click to toggle\"\n                      >\n                        {selected && perPersonCost > 0 ? (\n                          <span className=\"indicator\" role=\"img\" aria-label=\"checked\">✅ {perPersonCost.toFixed(2)}</span>\n                        ) : (\n                          <span className=\"indicator\" role=\"img\" aria-label=\"unchecked\">✖</span>\n                        )}\n                      </td>\n                    );\n                  })}\n                  <td>\n                    <button \n                      style={{ background: '#ff5555', color: '#fff', border: 'none', borderRadius: '4px', padding: '5px 10px' }}\n                      onClick={() => removeItem(i)}\n                    >\n                      Remove\n                    </button>\n                  </td>\n                </tr>\n              );\n            })}\n            <tr>\n              <td colSpan=\"2\" style={{ textAlign: 'right', fontWeight: 'bold' }}>Subtotal (Items):</td>\n              <td colSpan={people.length + 1} style={{ textAlign: 'right' }}>\n                {subtotal.toFixed(2)}\n              </td>\n            </tr>\n            <tr>\n              <td colSpan=\"2\" style={{ textAlign: 'right', fontWeight: 'bold' }}>Tax:</td>\n              <td colSpan={people.length + 1} style={{ textAlign: 'right' }}>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  value={tax}\n                  onChange={(e) => setTax(parseFloat(e.target.value) || 0)}\n                  style={{ width: '80px', textAlign: 'right' }}\n                />\n              </td>\n            </tr>\n            <tr>\n              <td colSpan=\"2\" style={{ textAlign: 'right', fontWeight: 'bold' }}>Tip:</td>\n              <td colSpan={people.length + 1} style={{ textAlign: 'right' }}>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  value={tip}\n                  onChange={(e) => setTip(parseFloat(e.target.value) || 0)}\n                  style={{ width: '80px', textAlign: 'right' }}\n                />\n              </td>\n            </tr>\n            <tr>\n              <td colSpan=\"2\" style={{ textAlign: 'right', fontWeight: 'bold' }}>Grand Total:</td>\n              <td colSpan={people.length + 1} style={{ textAlign: 'right', fontWeight: 'bold' }}>\n                {totalCost.toFixed(2)}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <div className=\"add-section\">\n        <input \n          type=\"text\" \n          placeholder=\"New person name\"\n          value={newPerson}\n          onChange={(e) => setNewPerson(e.target.value)} \n        />\n        <button onClick={addPerson}>Add Person</button>\n      </div>\n\n      {people.length > 0 && items.length > 0 && (\n        <>\n          <h3>Final Totals per Person (including tax & tip):</h3>\n          <table className=\"final-totals-table\">\n            <thead>\n              <tr>\n                <th>Person</th>\n                <th>Amount Due</th>\n              </tr>\n            </thead>\n            <tbody>\n              {people.map((person, j) => (\n                <tr key={j}>\n                  <td>{person}</td>\n                  <td style={{ textAlign: 'right' }}>\n                    {finalPersonTotals[j] ? finalPersonTotals[j].toFixed(2) : '0.00'}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default ReceiptTable;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}